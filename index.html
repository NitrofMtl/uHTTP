<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Uhttp by NitrofMtl</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Uhttp</h1>
      <h2 class="project-tagline">uHTTP by nomadnt modified to work with arduino DUE</h2>
      <a href="https://github.com/NitrofMtl/uHTTP" class="btn">View on GitHub</a>
      <a href="https://github.com/NitrofMtl/uHTTP/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/NitrofMtl/uHTTP/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <p>`// This file is part of uHTTP.
//
// uHTTP is free software: you can redistribute it and/or modify
// it under the terms of the GNU General Public License as published by
// the Free Software Foundation, either version 2 of the License, or
// (at your option) any later version.
//
// uHTTP is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
//
// You should have received a copy of the GNU General Public License
// along with Nome-Programma.  If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.</p>

<h1>
<a id="ifndef-uhttp_h" class="anchor" href="#ifndef-uhttp_h" aria-hidden="true"><span class="octicon octicon-link"></span></a>ifndef uHTTP_H</h1>

<h1>
<a id="define-uhttp_h" class="anchor" href="#define-uhttp_h" aria-hidden="true"><span class="octicon octicon-link"></span></a>define uHTTP_H</h1>

<h1>
<a id="if-arduino--100" class="anchor" href="#if-arduino--100" aria-hidden="true"><span class="octicon octicon-link"></span></a>if (ARDUINO &gt;= 100)</h1>

<pre><code>#include "Arduino.h"
</code></pre>

<h1>
<a id="else" class="anchor" href="#else" aria-hidden="true"><span class="octicon octicon-link"></span></a>else</h1>

<pre><code>#include "WProgram.h"
</code></pre>

<h1>
<a id="endif" class="anchor" href="#endif" aria-hidden="true"><span class="octicon octicon-link"></span></a>endif</h1>

<h1>
<a id="include-ethernetclienth" class="anchor" href="#include-ethernetclienth" aria-hidden="true"><span class="octicon octicon-link"></span></a>include "EthernetClient.h"</h1>

<h1>
<a id="include-ethernetserverh" class="anchor" href="#include-ethernetserverh" aria-hidden="true"><span class="octicon octicon-link"></span></a>include "EthernetServer.h"</h1>

<h1>
<a id="include-" class="anchor" href="#include-" aria-hidden="true"><span class="octicon octicon-link"></span></a>include </h1>

<p>// #define uHTTP_DEBUG</p>

<p>// Sizes</p>

<h1>
<a id="define-uhttp_buffer_size----255" class="anchor" href="#define-uhttp_buffer_size----255" aria-hidden="true"><span class="octicon octicon-link"></span></a>define uHTTP_BUFFER_SIZE    255</h1>

<h1>
<a id="define-uhttp_method_size----8" class="anchor" href="#define-uhttp_method_size----8" aria-hidden="true"><span class="octicon octicon-link"></span></a>define uHTTP_METHOD_SIZE    8</h1>

<h1>
<a id="define-uhttp_uri_size-------64" class="anchor" href="#define-uhttp_uri_size-------64" aria-hidden="true"><span class="octicon octicon-link"></span></a>define uHTTP_URI_SIZE       64</h1>

<h1>
<a id="define-uhttp_query_size-----64" class="anchor" href="#define-uhttp_query_size-----64" aria-hidden="true"><span class="octicon octicon-link"></span></a>define uHTTP_QUERY_SIZE     64</h1>

<h1>
<a id="define-uhttp_auth_size------32" class="anchor" href="#define-uhttp_auth_size------32" aria-hidden="true"><span class="octicon octicon-link"></span></a>define uHTTP_AUTH_SIZE      32</h1>

<h1>
<a id="define-uhttp_type_size------34" class="anchor" href="#define-uhttp_type_size------34" aria-hidden="true"><span class="octicon octicon-link"></span></a>define uHTTP_TYPE_SIZE      34</h1>

<h1>
<a id="define-uhttp_orig_size------16" class="anchor" href="#define-uhttp_orig_size------16" aria-hidden="true"><span class="octicon octicon-link"></span></a>define uHTTP_ORIG_SIZE      16</h1>

<p>// #define uHTTP_HOST_SIZE      32</p>

<h1>
<a id="define-uhttp_body_size------255" class="anchor" href="#define-uhttp_body_size------255" aria-hidden="true"><span class="octicon octicon-link"></span></a>define uHTTP_BODY_SIZE      255</h1>

<h1>
<a id="define-uhttp_method_options-0" class="anchor" href="#define-uhttp_method_options-0" aria-hidden="true"><span class="octicon octicon-link"></span></a>define uHTTP_METHOD_OPTIONS 0</h1>

<h1>
<a id="define-uhttp_method_get-----1" class="anchor" href="#define-uhttp_method_get-----1" aria-hidden="true"><span class="octicon octicon-link"></span></a>define uHTTP_METHOD_GET     1</h1>

<h1>
<a id="define-uhttp_method_head----2" class="anchor" href="#define-uhttp_method_head----2" aria-hidden="true"><span class="octicon octicon-link"></span></a>define uHTTP_METHOD_HEAD    2</h1>

<h1>
<a id="define-uhttp_method_post----3" class="anchor" href="#define-uhttp_method_post----3" aria-hidden="true"><span class="octicon octicon-link"></span></a>define uHTTP_METHOD_POST    3</h1>

<h1>
<a id="define-uhttp_method_put-----4" class="anchor" href="#define-uhttp_method_put-----4" aria-hidden="true"><span class="octicon octicon-link"></span></a>define uHTTP_METHOD_PUT     4</h1>

<h1>
<a id="define-uhttp_method_patch---5" class="anchor" href="#define-uhttp_method_patch---5" aria-hidden="true"><span class="octicon octicon-link"></span></a>define uHTTP_METHOD_PATCH   5</h1>

<h1>
<a id="define-uhttp_method_delete--6" class="anchor" href="#define-uhttp_method_delete--6" aria-hidden="true"><span class="octicon octicon-link"></span></a>define uHTTP_METHOD_DELETE  6</h1>

<h1>
<a id="define-uhttp_method_trace---7" class="anchor" href="#define-uhttp_method_trace---7" aria-hidden="true"><span class="octicon octicon-link"></span></a>define uHTTP_METHOD_TRACE   7</h1>

<h1>
<a id="define-uhttp_method_connect-8" class="anchor" href="#define-uhttp_method_connect-8" aria-hidden="true"><span class="octicon octicon-link"></span></a>define uHTTP_METHOD_CONNECT 8</h1>

<h1>
<a id="define-text_plain--0" class="anchor" href="#define-text_plain--0" aria-hidden="true"><span class="octicon octicon-link"></span></a>define TEXT_PLAIN  0</h1>

<h1>
<a id="define-text_html---1" class="anchor" href="#define-text_html---1" aria-hidden="true"><span class="octicon octicon-link"></span></a>define TEXT_HTML   1</h1>

<h1>
<a id="define-text_js-----2" class="anchor" href="#define-text_js-----2" aria-hidden="true"><span class="octicon octicon-link"></span></a>define TEXT_JS     2</h1>

<h1>
<a id="define-text_css----3" class="anchor" href="#define-text_css----3" aria-hidden="true"><span class="octicon octicon-link"></span></a>define TEXT_CSS    3</h1>

<h1>
<a id="define-text_xml----4" class="anchor" href="#define-text_xml----4" aria-hidden="true"><span class="octicon octicon-link"></span></a>define TEXT_XML    4</h1>

<h1>
<a id="define-text_json---5" class="anchor" href="#define-text_json---5" aria-hidden="true"><span class="octicon octicon-link"></span></a>define TEXT_JSON   5</h1>

<p>typedef struct header_t{
    char type[uHTTP_TYPE_SIZE];
    char auth[uHTTP_AUTH_SIZE];
    char orig[uHTTP_ORIG_SIZE];
    //char host[uHTTP_HOST_SIZE];
    uint16_t length;
};</p>

<p>class uHTTP : public EthernetServer {
    private:</p>

<pre><code>    header_t __head;

    uint8_t __method;

    char *__uri;
    char *__query;
    char *__body;
    const char *parse(const char *needle, char *haystack, const char*sep);

public:
    uHTTP();
    uHTTP(uint16_t port);
    ~uHTTP();

    EthernetClient available();

    header_t head();

    uint8_t method();
    bool method(uint8_t type);

    const char *uri();
    const char *uri(uint8_t segment);
    bool uri(const char *uri);
    bool uri(uint8_t index, const char *uri);

    const char *query();
    const char *query(const char *key);

    const char *body();
    const char *data(const char *key);
    void webFile_Post(char url[32], EthernetClient response);
    void render(uint16_t code, uint8_t ctype , EthernetClient response);
    void render(uint16_t code, const char *body, EthernetClient response);
    void send_headers(uint16_t code , uint8_t ctype , EthernetClient response );
    void send_headers(uint16_t code, EthernetClient response);
    void send_body(const char *body, EthernetClient response);
    void send_method_headers(const char *uri, EthernetClient response);

    bool get_request(const char *uri, EthernetClient response);
    bool put_request(const char *uri, EthernetClient response);

    void post_JSON(String output, EthernetClient response);
    void send_JSON_headers(EthernetClient response);
</code></pre>

<p>};</p>

<h1>
<a id="endif-1" class="anchor" href="#endif-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>endif`</h1>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/NitrofMtl/uHTTP">Uhttp</a> is maintained by <a href="https://github.com/NitrofMtl">NitrofMtl</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
